//Citation for the following page:
//Date: 3-20-2022
//This page is adapted from the Node JS starter code app.js file
//Source URL: https://github.com/osu-cs340-ecampus/nodejs-starter-app

<html>

<head>
    <title>Gogurts</title>
    <link href="style.css" rel="stylesheet" type="text/css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css" />
</head>

<body>
    <!-- index.hbs -->
    <h1 class="m-2 p-1 bg-dark text-white text-center">Gogurt Inc</h1>
    <p class="m-1 p-2">Welcome to the home of Gogurt <strong>ENJOY</strong> our site!</p>
    {{!-- nav bar --}}
    <nav class="navbar navbar-expand navbar-light bg-light text-center">
        <div class="collapse navbar-collapse p-1" id="navbarNav">
            <ul class="navbar-nav">
                <li class="nav-item active">
                    <a href="/" class="nav-link active">Gogurts</a>
                </li>
                <li class="nav-item active">
                <li><a href="suppliers" class="nav-link">Suppliers</a></li>
                </li>
                <li class="nav-item active">
                <li><a href="orders" class="nav-link">Orders</a></li>
                </li>
                <li class="nav-item active">
                <li><a href="sales" class="nav-link">Sales</a></li>
                </li>
                <li class="nav-item active">
                <li><a href="customers" class="nav-link">Customers</a></li>
                </li>
            </ul>
        </div>
    </nav>

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>


    {{!-- Create a table --}}
    <table id="gogurt-table" class="m-2 p-2 table table-bordered table striped">

        {{!-- Header section --}}
        <thead class="bg-light">

            {{!-- For just the first row, we print each key of the row object as a header cell so we
            know what each column means when the page renders --}}
            <tr>
                {{#each data.[0]}}
                <th>
                    {{@key}}
                </th>
                {{/each}}
                <th>delete</th>
            </tr>
        </thead>

        {{!-- Body section --}}
        <tbody>

            {{#each data}}
            <tr>
                <td>{{this.idGogurt}}</td>
                <td>{{this.flavor}}</td>
                <td>{{this.qtyOnHand}}</td>
                <td>{{this.price}}</td>
                <td><button onclick="deleteGogurt({{this.idGogurt}})" class="text-danger">Delete</button></td>
            </tr>
            {{/each}}
        </tbody>
    </table>
    <script src="./js/delete_gogurt.js"></script>

    <!-- /views/index.hbs -->
    {{!-- Form to add a record to the table using standard HTML forms --}}
    <h3 class="p-1 m-2 text-center bg-light">Add a new Gogurt product using the form below</h2>
        <p class="p-1">Please enter the information below and click `Submit`!</p>
        <form id="add-gogurt-form" method="POST" action="/add-gogurt-form" class="mb-1">
            <div class="mb-2 p-2">
                <label for="input-flavor" class="form-label">Flavor: </label>
                <input type="text" name="input-flavor" id="input-flavor" class="form-control">
            </div>
            <div class="mb-2 p-2">
                <label for="input-qtyOnHand" class="form-label">qtyOnHand: </label>
                <input type="text" name="input-qtyOnHand" id="input-qtyOnHand" class="form-control">
            </div>
            <div class="mb-2 p-2">
                <label for="input-price" class="form-label">price: </label>
                <input type="text" name="input-price" id="input-price" class="form-control">
            </div>
            <div class="mb-2">
                <input type="submit" class="btn btn-primary">
            </div>
        </form>

        <h3 class="p-1 m-2 text-center bg-light">Search for Gogurt by flavor</h2>
            <div class="mb-2 p-2">
                <form id="search-gogurt-html" method='GET' action='/'>
                    <div class="mb-3">
                        <label for="input-flavor" class="form-label">Search by Flavor: </label>
                        <input type="text" name="flavor" id="input-flavor-html-search" class="form-control">
                    </div>
                    <div class="mb-2">
                        <input type="submit" class="btn btn-primary">
                        <a href='/'><button>Reset</button></a>
                    </div>
                </form>
            </div>

            <h3 class="text-center bg-light p-1 m-1">Updating A Gogurt Form</h2>

                <form id="update-gogurt-form-ajax">
                    <div class="mb-3 p-2">
                        <label for="input-flavor" class="form-label text-b">Flavor: </label>
                        <select name="input-flavor" id="mySelect" class="form-control">
                            <option value="test">Select a Flavor</option>
                            {{#each data}}
                            <option value="{{this.idGogurt}}">{{this.flavor}}</option>
                            {{/each}}
                        </select>
                    </div>
                    <div class="mb-3 p-2">
                        <label for="input-qtyOnHand" class="form-label">quantity on hand: </label>
                        <input type="number" name="input-qtyOnHand" id="input-qtyOnHand-update" class="form-control">
                    </div>
                    <div class="mb-3 p-2">
                        <label for="input-price" class="form-label">Price: </label>
                        <input type="number" step="any" name="input-price" id="input-price-update" class="form-control">
                    </div>
                    <div class="mb-3 p-2">
                        <input type="submit" class="btn btn-primary">
                    </div>

                </form>

                <script src="./js/update_gogurt.js"></script>

                <!-- JavaScript Bundle with Popper -->
                <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"
                    integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3"
                    crossorigin="anonymous"></script>
</body>

</html>
